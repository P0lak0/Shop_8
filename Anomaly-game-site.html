<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Магазин номер 8</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      color: #222;
    }
    .page {
      display: none;
      padding: 40px;
      max-width: 1000px;
      margin: auto;
    }
    .page.active { display: block; }

    h1, h2 { margin-top: 0; }

    .btns {
      margin-top: 40px;
      display: flex;
      justify-content: space-between;
    }

    button {
      padding: 12px 24px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background: #222;
      color: white;
    }

    .products {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .product {
      background: white;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
    }

    .product img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      border-radius: 6px;
    }

    .team {
      display: flex;
      gap: 20px;
      margin-top: 30px;
    }

    .member {
      background: white;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      width: 150px;
    }

    .member img {
      width: 100%;
      border-radius: 50%;
    }

    .level {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #222;
      color: white;
      padding: 8px 14px;
      border-radius: 20px;
      font-size: 14px;
    }

    .hidden { display: none; }

    .password {
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      margin-top: 100px;
    }
  </style>
</head>
<body>

<div class="level">Уровень: <span id="level">0</span></div>
<div class="level" id="devPanel" style="top:50px; background:#b00020; display:none;">DEV: anomaly=false</div>

<!-- PAGE 1 -->
<section class="page active" id="page1">
  <h1>Добро пожаловать в Магазин номер 8 </h1>
  <p>
    Мы предоставляем современные цифровые решения для бизнеса любого масштаба.
    Наш подход сочетает инновации, надежность и внимание к деталям, что позволяет
    нашим клиентам чувствовать уверенность в завтрашнем дне.
  </p>
  <p>
    Мы используем валюту в рублях и наши менеджеры общаються только на русском языке.
    Наша платформа постоянно развивается, предлагая новые возможности и улучшения
    сервиса для более комфортного взаимодействия.
  </p>
  <div class="btns">
    <div></div>
    <button onclick="nextPage()">Далее</button>
  </div>
</section>

<!-- PAGE 2 -->
<section class="page" id="page2">
  <h2>Наши продукты</h2>
  <p id="descText">
    Ниже представлен ассортимент наших цифровых продуктов, разработанных
    с учетом современных требований рынка.
  </p>

  <div class="products" id="products"></div>

  <div class="btns">
    <button onclick="prevPage()">Назад</button>
    <button onclick="nextPage()">Далее</button>
  </div>
</section>

<!-- PAGE 3 -->
<section class="page" id="page3">
  <h2>Поддержка и контакты</h2>
  <p id="supportText">
    Наша служба поддержки работает круглосуточно и готова помочь вам по любым
    вопросам, связанным с нашими услугами.
  </p>

  <p id="phones">
    +7 (900) 123-45-67<br />
    +7 (900) 987-65-43
  </p>

  <div class="team" id="team"></div>

  <div class="btns">
    <button onclick="prevPage()">Назад</button>
    <button onclick="nextPage()">Далее</button>
  </div>
</section>

<!-- PASSWORD -->
<section class="page" id="passwordPage">
  <div class="password">напиши в комментариях пароль: Подарочек от Erwave</div>
</section>

<script>
let page = 1;
let level = 0;
let pageAnomaly = { 2: false, 3: false };
const levelEl = document.getElementById('level');
const devPanel = document.getElementById('devPanel');
let devMode = false;
const productsData = [
  { name: 'Воздушное Ядро', price: '1990 ₽' },
  { name: 'Цифровое Время', price: '2490 ₽' },
  { name: 'Поисковая Сеть', price: '2990 ₽' },
  { name: 'Умный АИ', price: '3490 ₽' },
  { name: 'Веб Инструменты', price: '1590 ₽' },
  { name: 'Мобильные Технологии', price: '1890 ₽' }
];
const teamData = ['Алексей', 'Екатерина', 'Олег'];

function renderProducts() {
  const wrap = document.getElementById('products');
  wrap.innerHTML = '';
  productsData.forEach(p => {
    const el = document.createElement('div');
    el.className = 'product';
    el.innerHTML = `<img src="https://picsum.photos/300/200?random=${Math.random()}" /><h3>${p.name}</h3><p>${p.price}</p>`;
    wrap.appendChild(el);
  });
}

function renderTeam() {
  const wrap = document.getElementById('team');
  wrap.innerHTML = '';
  teamData.forEach(n => {
    const el = document.createElement('div');
    el.className = 'member';
    el.innerHTML = `<img src="https://picsum.photos/100?random=${Math.random()}" /><p>${n}</p>`;
    wrap.appendChild(el);
  });
}

function applyAnomaly() {
  pageAnomaly[page] = false;
  document.body.style.background = '#f5f5f5';
  const desc = document.getElementById('descText');
  const title2 = document.querySelector('#page2 h2');
  const support = document.getElementById('supportText');
  const phones = document.getElementById('phones');

  if(desc) desc.textContent = 'Ниже представлен ассортимент наших цифровых продуктов, разработанных с учетом современных требований рынка.';
  if(title2) title2.textContent = 'Наши продукты';
  if(support) support.textContent = 'Наша служба поддержки работает круглосуточно и готова помочь вам по любым вопросам, связанным с нашими услугами.';
  if(phones) phones.innerHTML = '+7 (900) 123-45-67<br />+7 (900) 987-65-43';

  if(Math.random() < 0.5) { updateDev(); return; }
  pageAnomaly[page] = true;

  if(page === 2) {
    const type = Math.floor(Math.random() * 3);
    if(type === 0) { document.querySelectorAll('.product p').forEach(p => { p.textContent = p.textContent.replace('₽','Р'); }); }
    if(type === 1 && title2) { title2.textContent = 'Our Products'; }
    if(type === 2 && desc) { desc.textContent = 'Ниже предстовлен ассортимент наших аномальных продуктов, разработанных с учетом странных требаваний рынка.'; }
  }

  if(page === 3) {
    const type = Math.floor(Math.random() * 3);
    if(type === 0 && support) { support.textContent = 'Our support service works twenty four seven and ready to help you.'; }
    if(type === 1 && support) { support.textContent = 'Наша служба угнетения не работает круглосуточно и готова помешать вам по любым вопросам, связанным с нашеми услугами.'; }
    if(type === 2) { document.body.style.background = '#e8f0ff'; }
  }

  updateDev();
}

function showPage(n){ document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); document.getElementById('page'+n)?.classList.add('active'); updateDev(); }
function resetGame(){ level=0; page=1; pageAnomaly={2:false,3:false}; levelEl.textContent=level; showPage(1); }

function nextPage(){
  if(page===1){ page=2; renderProducts(); applyAnomaly(); showPage(2); return; }
  if(pageAnomaly[page]){ resetGame(); return; }
  if(page===3){ level++; levelEl.textContent=level;
    if(level>=8){ document.querySelectorAll('.page').forEach(p=>p.classList.remove('active')); document.getElementById('passwordPage').classList.add('active'); return; }
    page=1; showPage(1); return; }
  page=3; renderTeam(); applyAnomaly(); showPage(3);
}

function prevPage(){
  if(pageAnomaly[page]){ level++; levelEl.textContent=level;
    if(level>=8){ document.querySelectorAll('.page').forEach(p=>p.classList.remove('active')); document.getElementById('passwordPage').classList.add('active'); return; }
    pageAnomaly={2:false,3:false}; page=1; showPage(1); return; }
  resetGame();
}

function updateDev(){ if(!devMode) return; devPanel.style.display='block'; devPanel.textContent=`DEV | page=${page} | anomaly=${pageAnomaly[page]}`; }

document.addEventListener('keydown', e=>{ if(e.ctrlKey && e.shiftKey && e.key.toLowerCase()==='d'){ devMode=!devMode; devPanel.style.display=devMode?'block':'none'; updateDev(); } });
</script>

</body>
</html>
